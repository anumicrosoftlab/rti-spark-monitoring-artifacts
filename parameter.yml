find_replace:
  # Workspace ID replacements
  - find_value: \#\s*META\s+"default_workspace_id":\s*"([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})"
    replace_value:
      _ALL_: "$workspace.$id"
    is_regex: "true"
    item_type: "Notebook"

  - find_value: $workspaceId
    replace_value:
      _ALL_: "$workspace.$id"
    is_regex: "false"
    item_type: "Notebook"

  # Eventhouse GUID replacements
  - find_value: 61e0280c-4975-8bf6-4e6d-cc748ab5be27
    replace_value:
      _ALL_: "$items.Eventhouse.Spark Monitoring.Eventhouse.$id"
    is_regex: "false"
    item_type: "Notebook"

  # KQL Database GUID replacements  
  - find_value: 3e46dcfb-d099-b0ef-4861-4603e64229bd
    replace_value:
      _ALL_: "$items.KQLDatabase.Spark Monitoring.KQLDatabase.$id"
    is_regex: "false"
    item_type: "Notebook"

  # Eventstream GUID replacements
  - find_value: 3d2fdfb1-601b-8f71-4e11-34ed0a2c79aa
    replace_value:
      _ALL_: "$items.Eventstream.SparkMonitoring.Eventstream.$id"
    is_regex: "false"
    item_type: "Notebook"

  # Notebook GUID replacements
  - find_value: 9b7cc66d-40b7-8a6f-4a38-2bcdda7eb24a
    replace_value:
      _ALL_: "$items.Notebook.Spark Monitoring Recommedations.Notebook.$id"
    is_regex: "false"
    item_type: "DataPipeline"
    item_name: ["SparkLensPipeline.DataPipeline"]

  # Data Pipeline GUID replacements
  - find_value: 599af237-f1cc-863d-481e-22001aacb285
    replace_value:
      _ALL_: "$items.DataPipeline.SparkLensPipeline.DataPipeline.$id"
    is_regex: "false"
    item_type: "Notebook"

  # KQL Dashboard GUID replacements
  - find_value: 94b0dac6-cc63-8c9d-4a4b-40404f12bf39
    replace_value:
      _ALL_: "$items.KQLDashboard.Spark Monitoring.KQLDashboard.$id"
    is_regex: "false"
    item_type: "Notebook"

  # Cross-references in JSON configurations (FIXED with capturing groups)
  - find_value: ("itemName":\s*"Spark Monitoring\.KQLDatabase")
    replace_value:
      _ALL_: "\"itemName\": \"$items.KQLDatabase.Spark Monitoring.KQLDatabase.$name\""
    is_regex: "true"
    item_type: "Eventstream"
    item_name: ["SparkMonitoring.Eventstream"]

  - find_value: "SparkMonitoring"
    replace_value:
    ALL: "Spark Monitoring.KQLDatabase"
    is_regex: "false"
    item_type: "KQLQueryset"

